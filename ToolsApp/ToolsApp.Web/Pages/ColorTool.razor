@page "/color-tool"

@using ToolsApp.Models.Colors
@using ToolsApp.Components.ColorTool
@using ToolsApp.Services.Colors

@inject IColorsService colorsService

<ToolHeader HeaderText="Color Tool" />

<ColorList Colors="@colors" />

<ColorForm ButtonText="Add Color" OnSubmitColor="AppendColor" />

@code {

	private IEnumerable<Color> colors { get; set; } = new List<Color>();

	protected override void OnInitialized()
	{
		colors = colorsService.All();
	}

	private void AppendColor(NewColor color)
	{
		colors = colorsService.Append(color).All();
	}

}
